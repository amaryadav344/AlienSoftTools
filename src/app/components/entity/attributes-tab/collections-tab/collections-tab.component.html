<p-table #tableCollections [value]="collections" [scrollable]="true" scrollHeight="290px"
         [globalFilterFields]="['name','entity','objectField']" selectionMode="single"
         [(selection)]="selection" (onRowSelect)="onCollectionSelect(1)">
  <ng-template pTemplate="caption">
    <div class="ui-g ui-fluid">
      <div class="ui-g-12 ui-md-12">
        <div class="ui-inputgroup">
          <input type="text" pInputText placeholder="Search Collections"
                 (input)="tableCollections.filterGlobal($event.target.value, 'contains')">
          <button pButton type="button" icon="pi pi-plus" (click)="onCollectionSelect(0)"></button>
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template pTemplate="header">
    <tr>
      <th [pSortableColumn]="'name'">
        Name
        <p-sortIcon [field]="'name'"></p-sortIcon>
      </th>
      <th [pSortableColumn]="'entity'">
        Entity Name
        <p-sortIcon [field]="'entity'"></p-sortIcon>
      </th>
      <th [pSortableColumn]="'objectField'">
        Object Field
        <p-sortIcon [field]="'objectField'"></p-sortIcon>
      </th>
      <th>Actions</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rowData>
    <tr [pSelectableRowDblClick]="rowData">
      <td>{{rowData.name}}</td>
      <td>{{rowData.entity}}</td>
      <td>{{rowData.objectField}}</td>
      <td>
        <button pButton type="button" icon="pi pi-trash" (click)="deleteCollection(rowData)"
                pTooltip="Delete collection"
                style="margin-right: 8px" class="ui-button-danger"></button>
        <button pButton type="button" icon="pi pi-pencil" (click)="viewCollection(rowData)"
                pTooltip="View collection details"
                class="ui-button-success margin-left"></button>
      </td>
    </tr>
  </ng-template>
</p-table>
